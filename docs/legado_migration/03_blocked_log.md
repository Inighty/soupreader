# 03 — blocked/差异记录（迁移级别）

> 规则：出现无法等价复现的能力时，必须在此记录并标记为 `blocked`，包含：
> - 原因
> - 影响范围
> - 替代方案
> - 回补计划（明确下一步与依赖）

## BL-001：压缩包导入仅支持 zip

- **状态**：blocked（仅 zip）
- **对标来源**：Legado 支持 `zip/rar/7z`（远程/本地导入均可出现）
- **SoupReader 现状**：仅实现 zip；遇到 rar/7z 需提示差异
- **原因**：Flutter 侧缺少稳定的 rar/7z 解析链路（依赖选择与平台差异需评估）
- **影响范围**：
  - WebDav 远程书籍压缩包导入
  - 本地选择压缩包导入
- **替代方案**：
  1) 使用电脑端解压 rar/7z 后导入其中 `txt/epub`
  2) 若源端可控，优先提供 zip
- **回补计划**：
  - 评估跨平台依赖（纯 Dart / platform channel）与授权风险
  - 形成“按平台区分”或“统一支持”的技术方案后再实施

## BL-002：启动阶段弹窗链路不对齐（本轮主动差异）

- **状态**：blocked（按产品决策不对齐）
- **对标来源**：Legado `MainActivity.onPostCreate` 启动链路包含隐私协议/更新日志/崩溃提示/备份同步等弹窗或自动触发
- **本轮决策**：不在冷启动弹窗打断；改为设置页入口或页面内提示
- **原因**：产品约束（减少启动打断）
- **影响范围**：用户首次打开、升级后提示、崩溃后提示、自动检查新备份提示
- **替代方案**：在“设置/关于/备份与恢复”提供显式入口与提示卡片
- **回补计划**：若后续需要对齐启动弹窗，需新增全局启动编排与一次性弹窗队列

## BL-003：排除模块入口隐藏（本轮固定策略）

- **状态**：blocked（按迁移排除策略）
- **范围**：RSS / TTS / 漫画 / WebService
- **说明**：本轮不做等价能力；UI 隐藏入口，但保留底层结构以便后续恢复

