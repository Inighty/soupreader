{"done":false,"done_reason":"目标未完成：UI 代码侧约束已基本满足，但导航专项收口仍停留在证据占位与台账 `N-VAL-01=pending`，且缺少一键最终回归脚本。","goal_summary":"下一批任务聚焦 `N-VAL-01` 收口闭环：先把四份导航证据从占位态改为终态，再同步台账状态，随后增强守卫脚本并补齐一键回归入口，确保后续可重复验收。","tasks":[{"id":"C6-T01","title":"回填四页导航证据为终态并修正命中摘要","priority":1,"prompt":"改动范围：`docs/plans/evidence/2026-02-27-ui-nav-final-regression/R-N01-bookshelf.md`、`R-N02-discovery.md`、`R-N03-rss.md`、`R-N04-settings.md`。将每份证据的“结果”从“待验证”改为“通过”或“blocked”；若为 `blocked`，必须补齐“原因/影响范围/替代方案/回补计划”四要素；同时更新“处理动作”为真实结论，去除“待回填/未回归”等占位词，并修正 `R-N03/R-N04` 的命中摘要行号与当前代码一致。预期行为：四份证据文件都可作为收口终态记录，不再包含占位描述。验证方式：运行严格证据守卫脚本并确保通过。","verify_cmd":"cd /home/server/soupreader && bash tool/ui_nav_regression_guard.sh --mode=strict","required_paths":["docs/plans/evidence/2026-02-27-ui-nav-final-regression/R-N01-bookshelf.md","docs/plans/evidence/2026-02-27-ui-nav-final-regression/R-N02-discovery.md","docs/plans/evidence/2026-02-27-ui-nav-final-regression/R-N03-rss.md","docs/plans/evidence/2026-02-27-ui-nav-final-regression/R-N04-settings.md"],"depends_on":[]},{"id":"C6-T02","title":"同步 N-VAL-01 状态到台账与总计划","priority":2,"prompt":"改动范围：`docs/plans/2026-02-27-ui-cupertino-diff.md`、`PLANS.md`。根据 `C6-T01` 的证据终态，把 `N-VAL-01` 从 `pending` 更新为一致的终态（优先 `done`，如证据为 blocked 则同步为 blocked），并清理“当前唯一未完成项”等过期描述；保持 `EX-01=blocked` 边界不变，不新增 WebService 运行态实现描述。预期行为：台账状态、证据状态、总计划状态三者一致且无冲突。验证方式：定向检索 `N-VAL-01`、`pending/done/blocked` 与“唯一未完成项”描述是否一致。","verify_cmd":"cd /home/server/soupreader && rg -n \"N-VAL-01|当前唯一未完成项|pending|done|blocked|EX-01\" docs/plans/2026-02-27-ui-cupertino-diff.md PLANS.md","required_paths":["docs/plans/2026-02-27-ui-cupertino-diff.md","PLANS.md"],"depends_on":["C6-T01"]},{"id":"C6-T03","title":"增强导航证据守卫脚本的结果语义约束","priority":3,"prompt":"改动范围：`tool/ui_nav_regression_guard.sh`。在现有结构检查与占位词检查基础上新增语义校验：`结果` 仅允许 `通过` 或 `blocked`；当 `结果=blocked` 时，强制校验文件中存在“原因/影响范围/替代方案/回补计划”四项。预期行为：脚本可拦截不完整的 blocked 记录，避免文档收口漂移。验证方式：执行严格模式并确认四份证据通过；同时检查脚本中已包含结果白名单与 blocked 四要素校验逻辑。","verify_cmd":"cd /home/server/soupreader && bash tool/ui_nav_regression_guard.sh --mode=strict && rg -n \"通过|blocked|原因|影响范围|替代方案|回补计划\" tool/ui_nav_regression_guard.sh","required_paths":["tool/ui_nav_regression_guard.sh"],"depends_on":["C6-T01"]},{"id":"C6-T04","title":"新增 UI 收口一键回归脚本","priority":4,"prompt":"改动范围：`tool/ui_final_regression_check.sh`（新建，可执行）。脚本顺序执行 `tool/ui_cupertino_guard.sh` 与 `tool/ui_nav_regression_guard.sh --mode=strict`，任一步失败即返回非 0，并输出统一汇总。预期行为：可用单命令完成 UI 迁移收口复验，减少人工漏检。验证方式：直接执行新脚本，确认两个子检查都会运行且退出码正确传递。","verify_cmd":"cd /home/server/soupreader && bash tool/ui_final_regression_check.sh","required_paths":["tool/ui_final_regression_check.sh","tool/ui_cupertino_guard.sh","tool/ui_nav_regression_guard.sh"],"depends_on":["C6-T03","C6-T02"]},{"id":"C6-T05","title":"把一键回归入口写入台账收口步骤","priority":5,"prompt":"改动范围：`docs/plans/2026-02-27-ui-cupertino-diff.md`、`PLANS.md`。在 `N-VAL-01` 收口步骤中补充固定复验命令 `bash tool/ui_final_regression_check.sh`，并注明其覆盖范围（Cupertino 约束 + 导航证据严格校验）。预期行为：后续轮次按文档即可重复执行同一收口流程。验证方式：`rg` 检查两份文档都出现该命令及覆盖说明。","verify_cmd":"cd /home/server/soupreader && rg -n \"ui_final_regression_check\\.sh|Cupertino|导航证据|N-VAL-01\" docs/plans/2026-02-27-ui-cupertino-diff.md PLANS.md","required_paths":["docs/plans/2026-02-27-ui-cupertino-diff.md","PLANS.md","tool/ui_final_regression_check.sh"],"depends_on":["C6-T04"]}],"notes":["当前 `tool/ui_cupertino_guard.sh` 已可通过，优先处理失败点：四份 `R-N0*` 证据仍含“待验证/待回填/未回归”。","本批任务不包含 `flutter analyze`，仅使用定向守卫脚本与 `rg` 做阶段验证，符合 AGENTS 约束。"]}