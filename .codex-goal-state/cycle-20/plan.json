{"done":false,"done_reason":"目标未完成：D-04（Other 设置非 Web 键闭环）在当前仓库仍未落地，`app_settings/settings_service/other_settings_view` 对应键均无实现命中。","goal_summary":"按 AGENTS 串行依赖继续推进 UI 迁移：保持 D-03 现状，集中完成 D-04 的模型字段、保存接口与 Cupertino 页面入口，并严格维持 EX-01（Web 仅只读展示，不接运行态）。","tasks":[{"id":"C20-T1","title":"补齐 AppSettings 的 D-04 字段模型与序列化","priority":1,"prompt":"改动范围：`lib/core/models/app_settings.dart`。预期行为：新增并接通字段 `cronet`、`antiAlias`、`mediaButtonOnExit`、`readAloudByMediaButton`、`ignoreAudioFocus`、`autoClearExpired`、`showAddToShelfAlert`、`updateToVariant`、`showMangaUi`，同时补充 `webPort`、`webServiceWakeLock`（仅供读取展示）；完成默认值、构造参数、`fromJson` 兼容读取、`toJson` 输出、`copyWith` 参数透传，保证旧配置升级不崩溃且字段有稳定回显。验证方式：执行定向检索确认字段已在模型全链路出现。","verify_cmd":"rg -n \"cronet|antiAlias|mediaButtonOnExit|readAloudByMediaButton|ignoreAudioFocus|autoClearExpired|showAddToShelfAlert|updateToVariant|showMangaUi|webPort|webServiceWakeLock|fromJson|toJson|copyWith\" lib/core/models/app_settings.dart","required_paths":["lib/core/models/app_settings.dart"],"depends_on":[]},{"id":"C20-T2","title":"新增 SettingsService 的 D-04 非 Web 保存接口","priority":2,"prompt":"改动范围：`lib/core/services/settings_service.dart`。预期行为：为 C20-T1 的 9 个 non-Web 字段新增保存方法（`saveCronet`、`saveAntiAlias`、`saveMediaButtonOnExit`、`saveReadAloudByMediaButton`、`saveIgnoreAudioFocus`、`saveAutoClearExpired`、`saveShowAddToShelfAlert`、`saveUpdateToVariant`、`saveShowMangaUi`），统一走 `_saveAppSettingsPatch`；不得新增 `webPort/webServiceWakeLock` 的可写接口，不得接入任何 Web 服务启停/重启逻辑。验证方式：检索新增保存方法与 Web 运行态关键字，确保只增 non-Web 保存链路。","verify_cmd":"rg -n \"saveCronet|saveAntiAlias|saveMediaButtonOnExit|saveReadAloudByMediaButton|saveIgnoreAudioFocus|saveAutoClearExpired|saveShowAddToShelfAlert|saveUpdateToVariant|saveShowMangaUi|_saveAppSettingsPatch\" lib/core/services/settings_service.dart && rg -n \"WebService\\.start|WebService\\.stop|restart.*web|webPort.*restart|saveWebPort|saveWebServiceWakeLock\" lib/core/services/settings_service.dart","required_paths":["lib/core/services/settings_service.dart"],"depends_on":["C20-T1"]},{"id":"C20-T3","title":"在 OtherSettingsView 落地 9 个 non-Web 开关（Cupertino）","priority":3,"prompt":"改动范围：`lib/features/settings/views/other_settings_view.dart`。预期行为：在现有分组中新增 9 个 non-Web 配置入口（`cronet`、`antiAlias`、`mediaButtonOnExit`、`readAloudByMediaButton`、`ignoreAudioFocus`、`autoClearExpired`、`showAddToShelfAlert`、`updateToVariant`、`showMangaUi`），使用 `CupertinoListTile + CupertinoSwitch`，绑定 C20-T2 保存接口；列表进入/返回后状态与 `AppSettings` 保持一致，不引入 Material 组件，不改变已存在分组的 iOS 语义。验证方式：检索新增键与保存调用，并手工切换后重进页面验证回显。","verify_cmd":"rg -n \"cronet|antiAlias|mediaButtonOnExit|readAloudByMediaButton|ignoreAudioFocus|autoClearExpired|showAddToShelfAlert|updateToVariant|showMangaUi|CupertinoSwitch|saveCronet|saveAntiAlias|saveMediaButtonOnExit|saveReadAloudByMediaButton|saveIgnoreAudioFocus|saveAutoClearExpired|saveShowAddToShelfAlert|saveUpdateToVariant|saveShowMangaUi\" lib/features/settings/views/other_settings_view.dart","required_paths":["lib/features/settings/views/other_settings_view.dart"],"depends_on":["C20-T2"]},{"id":"C20-T4","title":"将 Web 服务分组改为读取配置的只读展示","priority":4,"prompt":"改动范围：`lib/features/settings/views/other_settings_view.dart`。预期行为：在“Web 服务（未启用）”分组中读取 `AppSettings.webPort` 与 `AppSettings.webServiceWakeLock` 并以只读文案展示（例如端口值、唤醒锁开关状态）；该分组仍不可点击、不可切换、不可编辑，继续保留“当前构建排除了 Web 服务”说明，严格遵守 EX-01。验证方式：检索分组文案与字段读取代码，并手工确认该分组不存在可执行动作。","verify_cmd":"rg -n \"Web 服务（未启用）|webPort|webServiceWakeLock|当前构建排除了 Web 服务|仅保留说明|不可操作\" lib/features/settings/views/other_settings_view.dart","required_paths":["lib/features/settings/views/other_settings_view.dart","lib/core/models/app_settings.dart"],"depends_on":["C20-T3"]},{"id":"C20-T5","title":"回填 D-04 台账状态与验证口径","priority":5,"prompt":"改动范围：`docs/plans/2026-02-26-my-menu-parity-checklist.md` 与 `docs/plans/2026-02-27-ui-cupertino-diff.md`。预期行为：将 D-04 从 `blocked` 更新为与代码一致的状态（若已完成则标记 `done`，否则精确写 `in_progress`），并回填本轮新增 non-Web 键与 Web 只读边界的验证记录；保持 `D-03 -> D-04` 串行描述与 EX-01 边界不变。验证方式：检索两份文档中的 D-04、EX-01、`webPort/webServiceWakeLock`、9 个 non-Web 键名是否与代码一致。","verify_cmd":"rg -n \"D-04|EX-01|cronet|antiAlias|mediaButtonOnExit|readAloudByMediaButton|ignoreAudioFocus|autoClearExpired|showAddToShelfAlert|updateToVariant|showMangaUi|webPort|webServiceWakeLock\" docs/plans/2026-02-26-my-menu-parity-checklist.md docs/plans/2026-02-27-ui-cupertino-diff.md","required_paths":["docs/plans/2026-02-26-my-menu-parity-checklist.md","docs/plans/2026-02-27-ui-cupertino-diff.md"],"depends_on":["C20-T4"]}],"notes":["上一轮失败任务 C19-T1 对应代码已存在，不再重复下发。","本批任务严格按 `D-03 -> D-04` 依赖：直接从 D-04 模型/服务/UI 闭环推进。","验证命令均为定向检索与手工路径，不包含 `flutter analyze`。"]}